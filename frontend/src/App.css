/* Styles for a more modern and stunning frontend UI - Further Refinements */

/* Import a modern font - using Poppins as an example */
@import url('https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&display=swap'); /* Added weight 500 */

* {
    margin: 0;
    padding: 0;
    box-sizing: border-box;
}

:root {
    /* Light Mode Variables */
    --color-background-body: linear-gradient(135deg, #f5f7fa 0%, #c3cfe2 100%);
    --color-background-container: #ffffff;
    --color-background-alt: #f8f9fa; /* For sections like methodology */
    --color-text-primary: #2D3748;
    --color-text-secondary: #718096;
    --color-border: #E2E8F0;
    --color-primary: #5A67D8;
    --color-secondary: #4299E1;

    /* Status Colors - Light Mode */
    --color-status-loading-bg: #EBF8FF;
    --color-status-loading-text: #2B6CB0;
    --color-status-loading-border: #BEE3F8;
    
    --color-status-success-bg: #F0FFF4;
    --color-status-success-text: #38A169;
    --color-status-success-border: #C6F6D5;

    --color-status-error-bg: #FED7D7;
    --color-status-error-text: #E53E3E;
    --color-status-error-border: #FEB2B2;

     /* Medal Colors - Light Mode */
    --color-medal-gold-bg: #FCF4A1;
    --color-medal-gold-text: #B7950B;
    --color-medal-gold-border: #F6E05E;

    --color-medal-silver-bg: #E2E4E6;
    --color-medal-silver-text: #718096;
    --color-medal-silver-border: #CBD5E0;

    --color-medal-bronze-bg: #E9D8FD;
    --color-medal-bronze-text: #805AD5;
    --color-medal-bronze-border: #D6BCFA;
}

/* Dark Mode Variables */
body.dark-mode {
    --color-background-body: #1a202c; /* Dark background */
    --color-background-container: #2d3748; /* Slightly lighter dark for containers */
    --color-background-alt: #4a5568; /* Darker background for sections */
    --color-text-primary: #e2e8f0; /* Light text */
    --color-text-secondary: #a0aec0; /* Lighter grey text */
    --color-border: #4a5568; /* Darker border */
    --color-primary: #63b3ed; /* Lighter blue for accent */
    --color-secondary: #9f7aea; /* Lighter purple for secondary */

     /* Status Colors - Dark Mode */
    --color-status-loading-bg: #2a4365;
    --color-status-loading-text: #a0aec0;
    --color-status-loading-border: #4299E1;
    
    --color-status-success-bg: #2F855A;
    --color-status-success-text: #C6F6D5;
    --color-status-success-border: #68D391;

    --color-status-error-bg: #C53030;
    --color-status-error-text: #FED7D7;
    --color-status-error-error: #FC8181;

    /* Medal Colors - Dark Mode (Adjusted for dark background) */
    --color-medal-gold-bg: #B7950B; /* Darker gold background */
    --color-medal-gold-text: #FEFCBF; /* Lighter text */
    --color-medal-gold-border: #F6E05E;

    --color-medal-silver-bg: #718096; /* Darker silver background */
    --color-medal-silver-text: #E2E8F0; /* Lighter text */
    --color-medal-silver-border: #CBD5E0;

    --color-medal-bronze-bg: #805AD5; /* Darker bronze background */
    --color-medal-bronze-text: #E9D8FD; /* Lighter text */
    --color-medal-bronze-border: #D6BCFA;
}

body {
    font-family: 'Poppins', sans-serif; /* Use Poppins */
    background: var(--color-background-body);
    min-height: 100vh;
    padding: 0 15px 30px; /* Remove top padding, keep horizontal and bottom */
    color: var(--color-text-primary);
    line-height: 1.6;
    font-size: 0.95em;
    transition: background-color 0.3s ease, color 0.3s ease; /* Smooth transition for theme change */
}

.container {
    max-width: 1000px;
    margin: 0 auto;
    background: var(--color-background-container);
    border-radius: 12px;
    padding: 60px; /* Increased padding */
    box-shadow: 0 10px 30px rgba(0, 0, 0, 0.06); /* Slightly larger, softer shadow */
    border: none; /* Remove subtle border */
    transition: background-color 0.3s ease, box-shadow 0.3s ease; /* Smooth transition */
}

h1 {
    text-align: center;
    margin-bottom: 10px; /* Reduced margin */
    font-size: 2em;
    font-weight: 700;
    color: var(--color-text-primary);
    background: none;
    -webkit-background-clip: unset;
    -webkit-text-fill-color: unset;
}

.subtitle {
    text-align: center;
    color: var(--color-text-secondary);
    margin-bottom: 50px; /* Adjusted margin */
    font-size: 0.9em; /* Slightly reduced font size */
    font-weight: 400;
}

.methodology {
    background: var(--color-background-alt);
    padding: 30px; /* Consistent padding */
    border-radius: 8px;
    margin-bottom: 40px;
    border: 1px solid var(--color-border);
    box-shadow: none; /* Remove shadow */
    border-left: 5px solid var(--color-primary); /* Slightly softer blue border */
    transition: background-color 0.3s ease, border-color 0.3s ease; /* Smooth transition */
}

.methodology-section-block {
    background: var(--color-background-container);
    padding: 20px; /* Adjusted padding */
    border-radius: 6px;
    margin-bottom: 15px;
    border: 1px solid var(--color-border);
    box-shadow: 0 2px 4px rgba(0, 0, 0, 0.02); /* Very subtle shadow */
    transition: background-color 0.3s ease, border-color 0.3s ease, box-shadow 0.3s ease; /* Smooth transition */
}

.methodology-section-block:last-child {
    margin-bottom: 0;
}

.methodology h2, .methodology h3, #references-section h2 {
    color: var(--color-text-primary);
    margin-bottom: 10px;
    font-weight: 600;
    font-size: 1.1em;
}

.methodology h2 button, #references-section h2 button {
    background: none;
    border: none;
    color: var(--color-text-secondary);
    font-size: 0.8em; /* Reduced font size */
    cursor: pointer;
    margin-left: 5px;
    padding: 2px;
    transition: transform 0.2s ease-in-out, color 0.2s ease-in-out;
}

.methodology h2 button:hover, #references-section h2 button:hover {
    transform: translateY(-1px);
    color: var(--color-primary);
}

.methodology h3 {
    margin-top: 15px;
    margin-bottom: 5px;
    font-weight: 600;
    font-size: 1.05em;
    color: var(--color-text-primary);
}

.methodology p, .methodology ul, #references-section ul {
    color: var(--color-text-secondary);
    line-height: 1.6; /* Increased line height for readability */
    margin-bottom: 10px;
    font-size: 0.9em;
}

.methodology ul, #references-section ul {
    padding-left: 20px;
}

.methodology li, #references-section li {
    margin-bottom: 5px;
}

#status .status {
    text-align: center;
    padding: 12px; /* Slightly increased padding */
    margin-bottom: 30px;
    border-radius: 6px;
    font-weight: 500;
    font-size: 0.85em;
    border: 1px solid; /* Add a subtle border based on color */
    opacity: 0.9; /* Slight transparency */
    transition: background-color 0.3s ease, color 0.3s ease, border-color 0.3s ease; /* Smooth transition */
}

#status .status.loading {
    background: var(--color-status-loading-bg);
    color: var(--color-status-loading-text);
    border-color: var(--color-status-loading-border);
}

#status .status.success {
    background: var(--color-status-success-bg);
    color: var(--color-status-success-text);
    border-color: var(--color-status-success-border);
}

#status .status.error {
    background: var(--color-status-error-bg);
    color: var(--color-status-error-text);
    border-color: var(--color-status-error-error);
}

/* --- Aggregated Rankings Specific Styles --- */
.aggregated-ranking {
    background: var(--color-background-container);
    color: var(--color-text-primary);
    padding: 30px;
    border-radius: 12px;
    margin-top: 30px;
    margin-bottom: 40px;
    max-height: 500px;
    overflow-y: auto;
    border: 1px solid var(--color-border);
    box-shadow: 0 4px 8px rgba(0, 0, 0, 0.03); /* Softer shadow */
    transition: background-color 0.3s ease, border-color 0.3s ease, box-shadow 0.3s ease; /* Smooth transition */
}

.aggregated-ranking h2 {
    text-align: center;
    margin-bottom: 20px;
    font-size: 1.6em;
    color: var(--color-text-primary);
    background: none;
    -webkit-background-clip: unset;
    -webkit-text-fill-color: unset;
    font-weight: 700;
}

.aggregated-ranking p {
    text-align: center;
    margin-bottom: 25px;
    opacity: 1;
    color: var(--color-text-secondary);
    font-size: 0.85em;
}

.top-university {
    background: var(--color-background-container);
    padding: 18px 20px; /* Adjusted padding */
    border-radius: 8px;
    margin-bottom: 10px;
    display: flex;
    justify-content: space-between;
    align-items: center;
    border: 1px solid var(--color-border);
    transition: background-color 0.3s ease, border-color 0.2s ease-in-out, box-shadow 0.2s ease-in-out; /* Smooth transition */
}

.top-university:hover {
     border-color: var(--color-text-secondary); /* Subtle border color change on hover */
     box-shadow: 0 3px 8px rgba(0, 0, 0, 0.06); /* Slightly more prominent shadow on hover */
     transform: none;
     background: var(--color-background-container);
}

.top-university:last-child {
    margin-bottom: 0;
}

/* Medal styles - adjust for darker text and subtlety */
.top-university.gold {
    background: var(--color-medal-gold-bg);
    color: var(--color-medal-gold-text);
    border-color: var(--color-medal-gold-border);
}

.top-university.gold:hover {
     background: var(--color-medal-gold-bg);
     border-color: var(--color-medal-gold-border);
}

.top-university.silver {
    background: var(--color-medal-silver-bg);
    color: var(--color-medal-silver-text);
    border-color: var(--color-medal-silver-border);
}
.top-university.silver:hover {
     background: var(--color-medal-silver-bg);
     border-color: var(--color-medal-silver-border);
}

.top-university.bronze {
    background: var(--color-medal-bronze-bg);
    color: var(--color-medal-bronze-text);
    border-color: var(--color-medal-bronze-border);
}
.top-university.bronze:hover {
    background: var(--color-medal-bronze-bg);
    border-color: var(--color-medal-bronze-border);
}

.top-university.gold .score,
.top-university.silver .score,
.top-university.bronze .score {
    color: var(--color-text-primary);
}

.top-university div:first-child strong {
    display: block;
    margin-bottom: 3px;
    font-size: 0.95em;
    font-weight: 600;
    color: var(--color-text-primary);
}

.top-university div:first-child div {
    font-size: 0.75em;
    opacity: 1;
    color: var(--color-text-secondary);
}

/* Adjust medal colors for better contrast */
.top-university.gold div:first-child div,
.top-university.silver div:first-child div,
.top-university.bronze div:first-child div {
    color: rgba(0, 0, 0, 0.8);
}

.individual-ranks {
    display: flex;
    gap: 6px;
    flex-wrap: wrap;
    justify-content: flex-end;
    align-items: center;
}

.rank-tag {
    background: var(--color-background-alt); /* Use alt background for tags */
    padding: 3px 7px;
    border-radius: 4px;
    font-size: 0.7em;
    font-weight: 600;
    color: var(--color-text-primary);
    border: 1px solid var(--color-border);
}

/* Specific rank tag colors (subtler) */
.rank-tag.qs {
    background-color: #e0f7fa; /* Lighter teal */
    color: #00838f; /* Slightly darker teal */
    border-color: var(--color-secondary);
}

.rank-tag.the {
    background-color: #fff3e0; /* Lighter orange */
    color: #f57c00; /* Dark orange */
    border-color: #F6AD55; /* Example: A warm tone for THE */
}

.rank-tag.arwu {
    background-color: #e8eaf6; /* Light indigo */
    color: #3949ab; /* Dark indigo */
    border-color: #63B3ED; /* Example: Another blue shade for ARWU */
}

.rank-tag.usn {
    background-color: #ffebee; /* Light red */
    color: #e53935; /* Dark red */
    border-color: #9F7AEA; /* Example: A purple tone for USN */
}

.export-options {
    text-align: center;
    margin-top: 40px;
}

/* MUI Button overrides - use MUI props for color and style where possible in App.js */
.MuiButton-root {
    font-family: 'Poppins', sans-serif;
    font-weight: 500; /* Adjusted font weight */
    text-transform: none;
    border-radius: 20px; /* Pill shape */
    padding: 10px 25px;
    box-shadow: none; /* Remove default shadow */
    transition: background-color 0.2s ease-in-out, box-shadow 0.2s ease-in-out, transform 0.1s ease-in-out; /* Added transform */
}

.MuiButton-contained {
    margin: 0 8px;
    background-color: var(--color-primary);
    color: var(--color-background-container);
}

.MuiButton-contained:hover {
    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1); /* Softer, slightly larger shadow on hover */
    transform: translateY(-2px); /* Subtle lift */
    background-color: var(--color-secondary); /* Slightly different shade on hover */
}

.MuiButton-contained:active {
    transform: translateY(0); /* Reset lift on click */
    box-shadow: none; /* Remove shadow on active */
}

/* Specific button color overrides if needed, but prefer using MUI color prop (primary, secondary, success) */
/* Example: */
/* .MuiButton-containedPrimary { */
/*     background-color: #007bff; */
/* } */
/* .MuiButton-containedPrimary:hover { */
/*     background-color: #0056b3; */
/* } */

.MuiTextField-root {
    /* Adjust margin if needed, using Box gap now */
    font-size: 0.9em;
}

/* Improve spacing for MUI components */
.MuiBox-root {
    display: flex;
    justifyContent: 'center';
    gap: 16px;
    margin-bottom: 30px;
    width: 100%;
    max-width: 800px;
    margin-left: auto;
    margin-right: auto;
}

/* Add left border to References section for consistency */
#references-section {
    padding: 30px;
    border-radius: 8px;
    margin-bottom: 40px;
    background: var(--color-background-container);
    border: 1px solid var(--color-border);
    border-left: 6px solid var(--color-primary);
    box-shadow: 0 4px 8px rgba(0, 0, 0, 0.03);
    /* Keep this section's width determined by the main container */
    /* max-width: 800px; */
    /* margin-left: auto; */
    /* margin-right: auto; */
    transition: background-color 0.3s ease, border-color 0.3s ease, box-shadow 0.3s ease; /* Smooth transition */
}

#references-section h2 {
    /* Existing styles for h2 within references section */
    margin-bottom: 10px;
    font-weight: 600;
    color: var(--color-text-primary);
}

#references-section ul {
    /* Existing styles for ul within references section */
    padding-left: 20px;
    color: var(--color-text-secondary);
    line-height: 1.5;
    font-size: 0.9em;
}

#references-section li {
     /* Existing styles for li within references section */
     margin-bottom: 5px;
}
